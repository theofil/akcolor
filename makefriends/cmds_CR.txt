### Summer2025 -- pipeline 

# assumes that you start from the akcolor/makefriends/ folder
# it will create sym links and tmp folders and cp the scipt inside the temp folders

### prepare job execution folder for CRCENTRAL

mkdir crcentral
cd crcentral
cp ../cmds.txt .
cp ../jobs.sh .
cp ../makefriends.py .

# make symlinks to the CRCENTRAL parent files

ln -s /eos/user/a/apapaefs/Projects/Pull/Summer2025/Herwig/LHC-Matchbox-VBFH-CRCENTRAL.root VBFHtoInv.root
ln -s /eos/user/a/apapaefs/Projects/Pull/Summer2025/Herwig/LHC-Matchbox-dijets-CRCENTRAL.root dijets.root
ln -s /eos/user/a/apapaefs/Projects/Pull/Summer2025/Herwig/LHC-LHEMG5-ggHjj-CRCENTRAL.root QCDHtoInv.root


### prepare job execution folder for CRPR25

mkdir crpr25
cd crpr25
cp ../cmds.txt .
cp ../jobs.sh .
cp ../makefriends.py .


# make symlinks to the CRPR25 parent files

ln -s /eos/user/a/apapaefs/Projects/Pull/Summer2025/Herwig/LHC-Matchbox-VBFH-CRPR25.root VBFHtoInv.root
ln -s /eos/user/a/apapaefs/Projects/Pull/Summer2025/Herwig/LHC-Matchbox-dijets-CRPR25.root dijets.root
ln -s /eos/user/a/apapaefs/Projects/Pull/Summer2025/Herwig/LHC-LHEMG5-ggHjj-CRPR25.root QCDHtoInv.root

### execution part 
# cd to the desired (CRCENTRAL or CRPR25 ...) folder

./jobs.sh -f VBFHtoInv.root -n 20 -t 50000 -x 3.601
./jobs.sh -f dijets.root    -n 20 -t 50000 -x 14670000.0
./jobs.sh -f QCDHtoInv.root -n 20 -t 50000 -x 0.134506

hadd VBFHtoInv.friend.root VBFHtoInv.friend_*root
hadd dijets.friend.root dijets.friend_*root
hadd QCDHtoInv.friend.root QCDHtoInv.friend_*.root
rm *friend_*.root
